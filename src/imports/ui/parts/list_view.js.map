{
  "version": 3,
  "file": "list_view.js",
  "sourceRoot": "../../../..",
  "sources": [
    "coffee/imports/ui/parts/list_view.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "ListView = class extends PureComponent\n  constructor: (props) ->\n    super props\n    @state =\n      objects: []\n\n\n\n  componentDidMount: =>\n    @init()\n\n  componentDidUpdate: (prevProps, prevState) =>\n    if not _.isEqual @props.objects, prevProps.objects\n      @init()\n    else if not _.isEqual @state.objects, prevState.objects\n      @init()\n\n\n\n  init: =>\n    objects = @props.objects\n\n    @setState\n      objects: objects\n\n  openMedia: (number) =>\n    Ambry.call 'fillMediaViewer', { objects: @state.objects, first: number }\n    @props.navigation.navigate 'MediaViewer'\n\n  share: (object) =>\n    Sharing.shareAsync object.path\n\n  delete: (object) =>\n    Alert.alert 'Are you sure?', 'This action can\\'t be undone',\n      [\n        {\n          text: 'Cancel'\n          style: 'cancel'\n        }\n        {\n          text: 'Delete'\n          onPress: =>\n            API.global.removeMedia [object]\n        }\n      ]\n\n\n\n  render: =>\n    <View style={ Shape.Box }>\n      {\n        if @state.objects.length is 0\n          <ScrollView style={ Shape.ScrollBox }>\n            <View style={ Shape.Empty }>\n              <Image source={ Assets.img.icons.image } style={{ width: 96, height: 96, resizeMode: 'contain', marginRight: 10 }}/>\n              <Text style={[Typography.Medium, Typography.Big, Typography.Grey, Shape.EmptyText]}>{ \"No Media Yet\" }</Text>\n            </View>\n          </ScrollView>\n        else\n          <FlatList data={ @state.objects } numColumns={ 1 } initialNumToRender={ 4 } onEndReachedThreshold={ .5 } renderItem={ ({ item, index }) =>\n            <ListItem object={ item } index={ index } last={ @state.objects.length - 1 is index } openMedia={ @openMedia } share={ @share } delete={ @delete }/>\n          } keyExtractor={ (path, index) => index.toString() }/>\n      }\n    </View>\n\n\n\nListItem = class extends PureComponent\n  constructor: (props) ->\n    super props\n\n  render: =>\n    if not @props.object\n      null\n    else\n      object = @props.object\n      num = @props.index\n      <View style={{ Shape.ListItem..., marginBottom: if @props.last then 125 else 15 }}>\n        <TouchableOpacity style={{ width: '100%', height: Window.width / 1.6 }} activeOpacity={ .5 } onPress={ @props.openMedia.bind this, num }>\n          {\n            if object.type is 'image'\n              <Image source={{ uri: object.path }} style={{ width: '100%', height: '100%', resizeMode: 'cover' }}/>\n            else if object.type is 'video'\n              <Video source={{ uri: object.path }} rate={ 1.0 } volume={ 1.0 } isMuted={ no } resizeMode='cover' shouldPlay={ no } isLooping={ no } style={{ width: '100%', height: '100%' }}/>\n          }\n          {\n            if object.type is 'video'\n              <View style={ Shape.ListItemInfo }>\n                <View style={{ position: 'absolute', top: 0, left: 0, bottom: 0, right: 0 }} pointerEvents='box-none'>\n                  <Image source={ Assets.img.pictures.dark_bottom_gradient } style={{ width: '100%', height: '100%', resizeMode: 'stretch' }}/>\n                </View>\n                <Image source={ Assets.img.icons.video_linear_icon } style={{ width: 18, height: 18, resizeMode: 'contain' }}/>\n                <Text style={[Typography.Medium, Typography.Small]}>{ if object.duration > 3599999 then moment(moment.duration(object.duration * 1000)._data).format 'h:mm:ss' else moment(moment.duration(object.duration * 1000)._data).format 'm:ss' }</Text>\n              </View>\n          }\n        </TouchableOpacity>\n        <View style={ Shape.ListItemFooter }>\n          <Text style={[Typography.Medium, Typography.Small, Typography.DarkGrey]}>{ moment(object.date).fromNow() }</Text>\n          <View style={ Shape.ListItemFooterRight }>\n            <TouchableOpacity style={ Shape.ListItemFooterRightIcon } activeOpacity={ .5 } onPress={ @props.delete.bind this, object }>\n              <Image source={ Assets.img.icons.trash_linear_icon } style={{ width: 20, height: 20, resizeMode: 'contain' }}/>\n            </TouchableOpacity>\n            <TouchableOpacity style={ Shape.ListItemFooterRightIcon } activeOpacity={ .5 } onPress={ @props.share.bind this, object }>\n              <Image source={ Assets.img.icons.share_linear_icon } style={{ width: 20, height: 20, resizeMode: 'contain' }}/>\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n\n\n\nShape = StyleSheet.create\n  Box:\n    flex: 1\n    width: '100%'\n\n  ScrollBox:\n    flex: 1\n    width: '100%'\n\n  Empty:\n    flex: 1\n    marginTop: Window.height / 4\n    alignItems: 'center'\n    justifyContent: 'center'\n\n  EmptyText:\n    marginTop: 15\n    textAlign: 'center'\n\n  List:\n    width: '100%'\n    flexDirection: 'row'\n    flexWrap: 'wrap'\n    alignItems: 'center'\n    marginBottom: 125\n\n  ListItem:\n    width: Window.width - 20\n    height: Window.width / 1.6 + 52\n    backgroundColor: 'white'\n    marginHorizontal: 10\n    marginBottom: 15\n    borderRadius: 4\n    overflow: 'hidden'\n\n  ListItemInfo:\n    position: 'absolute'\n    bottom: 0\n    left: 0\n    zIndex: 3\n    width: '100%'\n    height: 38\n    flexDirection: 'row'\n    alignItems: 'center'\n    justifyContent: 'space-between'\n    paddingHorizontal: 16\n\n  ListItemFooter:\n    width: '100%'\n    height: 52\n    paddingHorizontal: 18\n    backgroundColor: 'white'\n    flexDirection: 'row'\n    alignItems: 'center'\n    justifyContent: 'space-between'\n\n  ListItemFooterRight:\n    flexDirection: 'row'\n    alignItems: 'center'\n    justifyContent: 'center'\n\n  ListItemFooterRightIcon:\n    alignItems: 'center'\n    justifyContent: 'center'\n    marginLeft: 18\n\n\n\nexport default Hybrid withNavigation ListView\n"
  ]
}