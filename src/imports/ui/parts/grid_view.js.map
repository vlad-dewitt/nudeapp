{
  "version": 3,
  "file": "grid_view.js",
  "sourceRoot": "../../../..",
  "sources": [
    "coffee/imports/ui/parts/grid_view.coffee"
  ],
  "names": [],
  "mappings": ";AAAA,IAAA,QAAA,EAAA,KAAA,EAAA,MAAA;EAAA;;AAAA,QAAA,YAAW,MAAA,QAAc,cAAd;EACT,WAAa,CAAC,KAAD,CAAA;;QAOb,CAAA,wBAAA,CAAA;QAKA,CAAA,yBAAA,CAAA;QAQA,CAAA,6BAAA,CAAA;QAMA,CAAA,+BAAA,CAAA;QAMA,CAAA,WAAA,CAAA;QAQA,CAAA,mBAAA,CAAA;QAcA,CAAA,gBAAA,CAAA;QAIA,CAAA,gBAAA,CAAA;QAUA,CAAA,aAAA,CAAA;IAlEE,IAAC,CAAA,KAAD,GACE;MAAA,OAAA,EAAS;IAAT;EAHS;;EAOb,iBAAmB,CAAA,CAAA;;IACjB,IAAC,CAAA,KAAK,CAAC,UAAU,CAAC,WAAlB,CAA8B,WAA9B,EAA2C,IAAC,CAAA,sBAA5C;IACA,IAAC,CAAA,KAAK,CAAC,UAAU,CAAC,WAAlB,CAA8B,UAA9B,EAA0C,IAAC,CAAA,wBAA3C;WACA,IAAC,CAAA,IAAD,CAAA;EAHiB;;EAKnB,kBAAoB,CAAC,SAAD,CAAA;;IAClB,IAAG,IAAC,CAAA,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,gBAAvB,KAA6C,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,gBAA1E;aACE,IAAC,CAAA,IAAD,CAAA,EADF;KAAA,MAEK,IAAG,IAAC,CAAA,KAAK,CAAC,OAAO,CAAC,MAAf,KAA2B,SAAS,CAAC,OAAO,CAAC,MAAhD;aACH,IAAC,CAAA,IAAD,CAAA,EADG;;EAHa;;EAQpB,sBAAwB,CAAA,CAAA;;WACtB,KAAK,CAAC,IAAN,CAAW,eAAX,EACE;MAAA,SAAA,EAAW,IAAX;MACA,MAAA,EAAQ,KADR;MAEA,gBAAA,EAAkB;IAFlB,CADF;EADsB;;EAMxB,wBAA0B,CAAA,CAAA;;WACxB,KAAK,CAAC,IAAN,CAAW,eAAX,EACE;MAAA,SAAA,EAAW,KAAX;MACA,MAAA,EAAQ,KADR;MAEA,gBAAA,EAAkB;IAFlB,CADF;EADwB;;EAM1B,IAAM,CAAA,CAAA;AACJ,QAAA,OAAA,EAAA;;IAAA,OAAA,GAAU,IAAC,CAAA,KAAK,CAAC;IACjB,gBAAA,GAAmB,IAAC,CAAA,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC;WAE1C,IAAC,CAAA,QAAD,CACE;MAAA,OAAA,EAAS,OAAT;MACA,gBAAA,EAAkB;IADlB,CADF;EAJI;;EAQN,YAAc,CAAC,MAAD,EAAS,MAAT,CAAA;AACZ,QAAA;;IAAA,IAAG,IAAC,CAAA,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,MAA1B;MACE,gBAAA,GAAmB,IAAC,CAAA,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC;MAC1C,IAAG,CAAI,CAAC,CAAC,SAAF,CAAY,gBAAZ,EAA8B;QAAE,EAAA,EAAI,MAAM,CAAC;MAAb,CAA9B,CAAP;QACE,gBAAgB,CAAC,IAAjB,CAAsB,MAAtB,EADF;OAAA,MAAA;QAGE,gBAAA,GAAmB,CAAC,CAAC,OAAF,CAAU,gBAAV,EAA4B,CAAC,CAAC,SAAF,CAAY,gBAAZ,EAA8B;UAAE,EAAA,EAAI,MAAM,CAAC;QAAb,CAA9B,CAA5B,EAHrB;;aAIA,KAAK,CAAC,IAAN,CAAW,eAAX,EACE;QAAA,SAAA,EAAW,IAAX;QACA,MAAA,EAAQ,IADR;QAEA,gBAAA,EAAkB;MAFlB,CADF,EANF;KAAA,MAAA;aAWE,IAAC,CAAA,SAAD,CAAW,MAAX,EAXF;;EADY;;EAcd,SAAW,CAAC,MAAD,CAAA;;IACT,KAAK,CAAC,IAAN,CAAW,iBAAX,EAA8B;MAAE,OAAA,EAAS,IAAC,CAAA,KAAK,CAAC,OAAlB;MAA2B,KAAA,EAAO;IAAlC,CAA9B;WACA,IAAC,CAAA,KAAK,CAAC,UAAU,CAAC,QAAlB,CAA2B,aAA3B;EAFS;;EAIX,SAAW,CAAC,MAAD,EAAS;MAAE,WAAA,EAAa;IAAf,CAAT,CAAA;;IACT,IAAG,CAAI,IAAC,CAAA,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,MAA9B;MACE,IAAG,KAAK,CAAC,KAAN,KAAe,YAAY,CAAC,MAA/B;eACE,KAAK,CAAC,IAAN,CAAW,eAAX,EACE;UAAA,SAAA,EAAW,IAAX;UACA,MAAA,EAAQ,IADR;UAEA,gBAAA,EAAkB,CAAC,MAAD;QAFlB,CADF,EADF;OADF;;EADS;;EAUX,MAAQ,CAAA,CAAA;;WACL,CAAA,KAAK,KAAA,CAAM,CAAE,KAAK,CAAC,GAAR,CAAX;MACE,CAAA,WAAW,KAAA,CAAM,CAAE,KAAK,CAAC,SAAR,CAAjB;QAAoC,CACnC,CACK,IAAC,CAAA,KAAK,CAAC,OAAO,CAAC,MAAf,KAAyB,CAA5B,GACG,CAAA,KAAK,KAAA,CAAM,CAAE,KAAK,CAAC,KAAR,CAAX;cACE,CAAA,MAAM,MAAA,CAAO,CAAE,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,KAAnB,EAA2B,KAAA,CAAM,CAAC;QAAE,KAAA,EAAO,EAAT;QAAa,MAAA,EAAQ,EAArB;QAAyB,UAAA,EAAY,SAArC;QAAgD,WAAA,EAAa;MAA7D,CAAD,CAA9C;cACA,CAAA,KAAK,KAAA,CAAM,CAAC,CAAC,UAAU,CAAC,MAAZ,EAAoB,UAAU,CAAC,GAA/B,EAAoC,UAAU,CAAC,IAA/C,EAAqD,KAAK,CAAC,SAA3D,CAAD,CAAX,CAAkF,CAAG,cAAH,CAAlF,EAAA,IAAA;YAFF,EAAA,IAAA,CADH,GAMG,CAAA,KAAK,KAAA,CAAM,CAAE,KAAK,CAAC,IAAR,CAAX;cAAyB,CAEtB,IAAC,CAAA,KAAK,CAAC,OAAO,CAAC,GAAf,CAAmB,CAAC,MAAD,EAAS,GAAT,CAAA,GAAA;AACjB,UAAA;MAAA,QAAA,GAAW,CAAC,CAAC,SAAF,CAAY,IAAC,CAAA,KAAK,CAAC,gBAAnB,EAAqC;QAAE,EAAA,EAAI,MAAM,CAAC;MAAb,CAArC;aACV,CAAA,iBAAiB,GAAA,CAAI,CAAE,GAAF,EAAQ,KAAA,CAAM,CAAE,KAAK,CAAC,QAAR,EAAmB,aAAA,CAAc,CAAE,EAAF,EAAO,OAAA,CAAQ,CAAE,IAAC,CAAA,YAAY,CAAC,IAAd,CAAmB,IAAnB,EAAyB,MAAzB,EAAiC,GAAjC,CAAF,CAAnF;oBACE,CAAA,IAAA;sBAAI,CACH,CACK,MAAM,CAAC,IAAP,KAAe,OAAlB,GACG,CAAA,MAAM,MAAA,CAAO,CAAC;UAAE,GAAA,EAAK,MAAM,CAAC;QAAd,CAAD,EAAuB,KAAA,CAAM,CAAC;UAAE,KAAA,EAAO,MAAT;UAAiB,MAAA,EAAQ,MAAzB;UAAiC,UAAA,EAAY;QAA7C,CAAD,CAA1C,GADH,GAEQ,MAAM,CAAC,IAAP,KAAe,OAAlB,GACF,CAAA,MAAM,MAAA,CAAO,CAAC;UAAE,GAAA,EAAK,MAAM,CAAC;QAAd,CAAD,EAAuB,IAAA,CAAK,CAAE,GAAF,EAAQ,MAAA,CAAO,CAAE,CAAF,EAAM,OAAA,CAAQ,CAAE,KAAF,EAAO,UAAA,CAAW,QAAQ,UAAA,CAAW,CAAE,KAAF,EAAO,SAAA,CAAU,CAAE,KAAF,EAAO,KAAA,CAAM,CAAC;UAAE,KAAA,EAAO,MAAT;UAAiB,MAAA,EAAQ;QAAzB,CAAD,CAAzI,GADE,GAAA,MAHP,CADG;sBAAA,CAOH,CACK,MAAM,CAAC,IAAP,KAAe,OAAlB,GACG,CAAA,KAAK,KAAA,CAAM,CAAE,KAAK,CAAC,YAAR,CAAX;4BACE,CAAA,KAAK,KAAA,CAAM,CAAC;UAAE,QAAA,EAAU,UAAZ;UAAwB,GAAA,EAAK,CAA7B;UAAgC,IAAA,EAAM,CAAtC;UAAyC,MAAA,EAAQ,CAAjD;UAAoD,KAAA,EAAO;QAA3D,CAAD,EAAiE,aAAA,CAAc,UAA1F;8BACE,CAAA,MAAM,MAAA,CAAO,CAAE,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,oBAAtB,EAA6C,KAAA,CAAM,CAAC;UAAE,KAAA,EAAO,MAAT;UAAiB,MAAA,EAAQ,MAAzB;UAAiC,UAAA,EAAY;QAA7C,CAAD,CAAhE;4BADF,EAAA,IAAA;4BAGA,CAAA,MAAM,MAAA,CAAO,CAAE,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,iBAAnB,EAAuC,KAAA,CAAM,CAAC;UAAE,KAAA,EAAO,EAAT;UAAa,MAAA,EAAQ,EAArB;UAAyB,UAAA,EAAY;QAArC,CAAD,CAA1D;4BACA,CAAA,KAAK,KAAA,CAAM,CAAC,CAAC,UAAU,CAAC,MAAZ,EAAoB,UAAU,CAAC,MAA/B,CAAD,CAAX,CAAmD,CAAC,CAAK,MAAM,CAAC,QAAP,GAAkB,OAArB,GAAkC,MAAA,CAAO,MAAM,CAAC,QAAP,CAAgB,MAAM,CAAC,QAAP,GAAkB,IAAlC,CAAuC,CAAC,KAA/C,CAAqD,CAAC,MAAtD,CAA6D,SAA7D,CAAlC,GAA8G,MAAA,CAAO,MAAM,CAAC,QAAP,CAAgB,MAAM,CAAC,QAAP,GAAkB,IAAlC,CAAuC,CAAC,KAA/C,CAAqD,CAAC,MAAtD,CAA6D,MAA7D,CAAhH,CAAD,CAAnD,EAAA,IAAA;0BALF,EAAA,IAAA,CADH,GAAA,MADF,CAPG;sBAAA,CAiBH,CACK,IAAC,CAAA,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,MAA1B,GACK,QAAH,GACG,CAAA,KAAK,KAAA,CAAM,CAAE,KAAK,CAAC,iBAAR,CAAX;8BACE,CAAA,MAAM,MAAA,CAAO,CAAE,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,QAAnB,EAA8B,KAAA,CAAM,CAAC;UAAE,KAAA,EAAO,EAAT;UAAa,MAAA,EAAQ,EAArB;UAAyB,UAAA,EAAY;QAArC,CAAD,CAAjD;4BADF,EAAA,IAAA,CADH,GAAA,MADF,GAAA,MADF,CAjBG;oBAAJ,EAAA,IAAA;kBADF,EAAA,gBAAA;IAFgB,CAAnB,CAFsB;YAAzB,EAAA,IAAA,CAPL,CADmC;MAApC,EAAA,UAAA;IADF,EAAA,IAAA;EADK;;AArEC;;AAsHX,KAAA,GAAQ,UAAU,CAAC,MAAX,CACN;EAAA,GAAA,EACE;IAAA,IAAA,EAAM,CAAN;IACA,KAAA,EAAO;EADP,CADF;EAIA,SAAA,EACE;IAAA,IAAA,EAAM,CAAN;IACA,KAAA,EAAO;EADP,CALF;EAQA,KAAA,EACE;IAAA,IAAA,EAAM,CAAN;IACA,SAAA,EAAW,MAAM,CAAC,MAAP,GAAgB,CAD3B;IAEA,UAAA,EAAY,QAFZ;IAGA,cAAA,EAAgB;EAHhB,CATF;EAcA,SAAA,EACE;IAAA,SAAA,EAAW,EAAX;IACA,SAAA,EAAW;EADX,CAfF;EAkBA,IAAA,EACE;IAAA,KAAA,EAAO,MAAP;IACA,aAAA,EAAe,KADf;IAEA,QAAA,EAAU,MAFV;IAGA,UAAA,EAAY,QAHZ;IAIA,YAAA,EAAc;EAJd,CAnBF;EAyBA,QAAA,EACE;IAAA,KAAA,EAAO,MAAM,CAAC,KAAP,GAAe,CAAtB;IACA,MAAA,EAAQ,MAAM,CAAC,KAAP,GAAe,CADvB;IAEA,WAAA,EAAa,EAFb;IAGA,WAAA,EAAa,SAHb;IAIA,YAAA,EAAc,CAJd;IAKA,QAAA,EAAU;EALV,CA1BF;EAiCA,YAAA,EACE;IAAA,QAAA,EAAU,UAAV;IACA,MAAA,EAAQ,CADR;IAEA,IAAA,EAAM,CAFN;IAGA,MAAA,EAAQ,CAHR;IAIA,KAAA,EAAO,MAJP;IAKA,MAAA,EAAQ,EALR;IAMA,aAAA,EAAe,KANf;IAOA,UAAA,EAAY,QAPZ;IAQA,cAAA,EAAgB,eARhB;IASA,iBAAA,EAAmB;EATnB,CAlCF;EA6CA,iBAAA,EACE;IAAA,QAAA,EAAU,UAAV;IACA,MAAA,EAAQ,EADR;IAEA,GAAA,EAAK,CAFL;IAGA,IAAA,EAAM,CAHN;IAIA,MAAA,EAAQ,CAJR;IAKA,KAAA,EAAO,CALP;IAMA,eAAA,EAAiB,yBANjB;IAOA,UAAA,EAAY,QAPZ;IAQA,cAAA,EAAgB;EARhB;AA9CF,CADM;;AA2DR,OAAA,QAAe,MAAA,CAAO,cAAA,CAAe,QAAf,CAAP",
  "sourcesContent": [
    "GridView = class extends PureComponent\n  constructor: (props) ->\n    super props\n    @state =\n      objects: []\n\n\n\n  componentDidMount: =>\n    @props.navigation.addListener 'willFocus', @setSelectModeAvailable\n    @props.navigation.addListener 'willBlur', @setSelectModeUnavailable\n    @init()\n\n  componentDidUpdate: (prevProps) =>\n    if @props.app.select_mode.selected_objects isnt prevProps.app.select_mode.selected_objects\n      @init()\n    else if @props.objects.length isnt prevProps.objects.length\n      @init()\n\n\n\n  setSelectModeAvailable: =>\n    Ambry.call 'setSelectMode',\n      available: yes\n      active: no\n      selected_objects: []\n\n  setSelectModeUnavailable: =>\n    Ambry.call 'setSelectMode',\n      available: no\n      active: no\n      selected_objects: []\n\n  init: =>\n    objects = @props.objects\n    selected_objects = @props.app.select_mode.selected_objects\n\n    @setState\n      objects: objects\n      selected_objects: selected_objects\n\n  selectObject: (object, number) =>\n    if @props.app.select_mode.active\n      selected_objects = @props.app.select_mode.selected_objects\n      if not _.findWhere selected_objects, { id: object.id }\n        selected_objects.push object\n      else\n        selected_objects = _.without selected_objects, _.findWhere selected_objects, { id: object.id }\n      Ambry.call 'setSelectMode',\n        available: yes\n        active: yes\n        selected_objects: selected_objects\n    else\n      @openMedia number\n\n  openMedia: (number) =>\n    Ambry.call 'fillMediaViewer', { objects: @state.objects, first: number }\n    @props.navigation.navigate 'MediaViewer'\n\n  longPress: (object, { nativeEvent: event }) =>\n    if not @props.app.select_mode.active\n      if event.state is GestureState.ACTIVE\n        Ambry.call 'setSelectMode',\n          available: yes\n          active: yes\n          selected_objects: [object]\n\n\n\n  render: =>\n    <View style={ Shape.Box }>\n      <ScrollView style={ Shape.ScrollBox }>\n        {\n          if @state.objects.length is 0\n            <View style={ Shape.Empty }>\n              <Image source={ Assets.img.icons.image } style={{ width: 96, height: 96, resizeMode: 'contain', marginRight: 10 }}/>\n              <Text style={[Typography.Medium, Typography.Big, Typography.Grey, Shape.EmptyText]}>{ \"No Media Yet\" }</Text>\n            </View>\n          else\n            <View style={ Shape.List }>\n              {\n                @state.objects.map (object, num) =>\n                  selected = _.findWhere @state.selected_objects, { id: object.id }\n                  <TouchableOpacity key={ num } style={ Shape.ListItem } activeOpacity={ .7 } onPress={ @selectObject.bind this, object, num }>\n                    <View>\n                      {\n                        if object.type is 'image'\n                          <Image source={{ uri: object.path }} style={{ width: '100%', height: '100%', resizeMode: 'cover' }}/>\n                        else if object.type is 'video'\n                          <Video source={{ uri: object.path }} rate={ 1.0 } volume={ 0 } isMuted={ no } resizeMode='cover' shouldPlay={ no } isLooping={ no } style={{ width: '100%', height: '100%' }}/>\n                      }\n                      {\n                        if object.type is 'video'\n                          <View style={ Shape.ListItemInfo }>\n                            <View style={{ position: 'absolute', top: 0, left: 0, bottom: 0, right: 0 }} pointerEvents='box-none'>\n                              <Image source={ Assets.img.pictures.dark_bottom_gradient } style={{ width: '100%', height: '100%', resizeMode: 'stretch' }}/>\n                            </View>\n                            <Image source={ Assets.img.icons.video_linear_icon } style={{ width: 14, height: 14, resizeMode: 'contain' }}/>\n                            <Text style={[Typography.Medium, Typography.Little]}>{ if object.duration > 3599999 then moment(moment.duration(object.duration * 1000)._data).format 'h:mm:ss' else moment(moment.duration(object.duration * 1000)._data).format 'm:ss' }</Text>\n                          </View>\n                      }\n                      {\n                        if @props.app.select_mode.active\n                          if selected\n                            <View style={ Shape.ListItemSelection }>\n                              <Image source={ Assets.img.icons.selected } style={{ width: 72, height: 72, resizeMode: 'contain' }}/>\n                            </View>\n                      }\n                    </View>\n                  </TouchableOpacity>\n              }\n            </View>\n        }\n      </ScrollView>\n    </View>\n\n\n\nShape = StyleSheet.create\n  Box:\n    flex: 1\n    width: '100%'\n\n  ScrollBox:\n    flex: 1\n    width: '100%'\n\n  Empty:\n    flex: 1\n    marginTop: Window.height / 4\n    alignItems: 'center'\n    justifyContent: 'center'\n\n  EmptyText:\n    marginTop: 15\n    textAlign: 'center'\n\n  List:\n    width: '100%'\n    flexDirection: 'row'\n    flexWrap: 'wrap'\n    alignItems: 'center'\n    marginBottom: 125\n\n  ListItem:\n    width: Window.width / 3\n    height: Window.width / 3\n    borderWidth: .5\n    borderColor: '#F5F6F9'\n    borderRadius: 4\n    overflow: 'hidden'\n\n  ListItemInfo:\n    position: 'absolute'\n    bottom: 0\n    left: 0\n    zIndex: 3\n    width: '100%'\n    height: 26\n    flexDirection: 'row'\n    alignItems: 'center'\n    justifyContent: 'space-between'\n    paddingHorizontal: 8\n\n  ListItemSelection:\n    position: 'absolute'\n    zIndex: 10\n    top: 0\n    left: 0\n    bottom: 0\n    right: 0\n    backgroundColor: 'rgba(250, 217, 217, .8)'\n    alignItems: 'center'\n    justifyContent: 'center'\n\n\n\nexport default Hybrid withNavigation GridView\n"
  ]
}