{
  "version": 3,
  "file": "home_plus.js",
  "sourceRoot": "../../../../..",
  "sources": [
    "coffee/imports/ui/parts/sub/home_plus.coffee"
  ],
  "names": [],
  "mappings": ";AAAA,IAAA,QAAA,EAAA,KAAA,EAAA,MAAA;EAAA;;AAAA,OAAO,OAAP,MAAA;;AACA,OAAO,WAAP,MAAA;;AAIA,QAAA,YAAW,MAAA,QAAc,cAAd;EACT,WAAa,CAAC,KAAD,CAAA;;QAcb,CAAA,wBAAA,CAAA;QASA,CAAA,aAAA,CAAA;QAIA,CAAA,eAAA,CAAA;QAYA,CAAA,oBAAA,CAAA;QAsBA,CAAA,aAAA,CAAA;IA3DE,IAAC,CAAA,KAAD,GACE;MAAA,aAAA,EAAe,KAAf;MACA,aAAA,EAAe,KADf;MAEA,SAAA,EAAW,KAFX;MAGA,cAAA,EACE;QAAA,UAAA,EAAY,WAAW,CAAC,gBAAgB,CAAC,GAAzC;QACA,aAAA,EAAe,KADf;QAEA,MAAA,EAAQ,KAFR;QAGA,IAAA,EAAM;MAHN;IAJF;EAHS;;EAcb,iBAAmB,CAAA,CAAA;;WACjB,WAAW,CAAC,QAAZ,CAAqB,WAAW,CAAC,MAAjC,EAAyC,WAAW,CAAC,WAArD,CAAiE,CAAC,IAAlE,CAAuE,CAAC,GAAD,CAAA,GAAA;aACrE,IAAC,CAAA,QAAD,CACE;QAAA,aAAA,EAAe,GAAG,CAAC,WAAW,CAAC,MAAM,CAAC,MAAvB,KAAiC,SAAhD;QACA,SAAA,EAAW,GAAG,CAAC,WAAW,CAAC,UAAU,CAAC,MAA3B,KAAqC;MADhD,CADF;IADqE,CAAvE;EADiB;;EASnB,MAAQ,CAAC,QAAD,CAAA;;WACN,IAAC,CAAA,QAAD,CACE;MAAA,aAAA,EAAe;IAAf,CADF;EADM;;EAIR,QAAU,CAAA,CAAA;;IACR,IAAG,CAAI,IAAC,CAAA,KAAK,CAAC,SAAd;aACE,WAAW,CAAC,QAAZ,CAAqB,WAAW,CAAC,WAAjC,CAA6C,CAAC,IAA9C,CAAmD,CAAC,GAAD,CAAA,GAAA;QACjD,IAAG,GAAG,CAAC,MAAJ,KAAc,SAAjB;iBACE,IAAC,CAAA,QAAD,CACE;YAAA,SAAA,EAAW;UAAX,CADF,EADF;SAAA,MAAA;iBAIE,KAAK,CAAC,KAAN,CAAY,OAAZ,EAAqB,0DAArB,EAJF;;MADiD,CAAnD,EADF;KAAA,MAAA;MAQE,IAAC,CAAA,KAAK,CAAC,UAAU,CAAC,QAAlB,CAA2B,eAA3B;aACA,IAAC,CAAA,MAAD,CAAQ,KAAR,EATF;;EADQ;;EAYV,aAAe,CAAA,CAAA;;IACb,IAAG,CAAI,IAAC,CAAA,KAAK,CAAC,aAAd;aACE,WAAW,CAAC,QAAZ,CAAqB,WAAW,CAAC,MAAjC,CAAwC,CAAC,IAAzC,CAA8C,CAAC,GAAD,CAAA,GAAA;QAC5C,IAAG,GAAG,CAAC,MAAJ,KAAc,SAAjB;iBACE,IAAC,CAAA,QAAD,CACE;YAAA,aAAA,EAAe;UAAf,CADF,EADF;SAAA,MAAA;iBAIE,KAAK,CAAC,KAAN,CAAY,OAAZ,EAAqB,sDAArB,EAJF;;MAD4C,CAA9C,EADF;KAAA,MAAA;MAQE,KAAK,CAAC,IAAN,CAAW,aAAX,EAA0B,IAA1B;MACA,UAAA,CAAW,CAAA,CAAA,GAAA;eACT,WAAW,CAAC,iBAAZ,CAA8B,IAAC,CAAA,KAAK,CAAC,cAArC,CAAoD,CAAC,IAArD,CAA0D,CAAC,GAAD,CAAA,GAAA;UACxD,IAAG,GAAG,CAAC,SAAJ,KAAmB,IAAtB;YACE,GAAG,CAAC,MAAM,CAAC,QAAX,CAAoB;cAAE,MAAA,EAAQ;YAAV,CAApB,EAAoC,CAAC,GAAD,CAApC,EADF;;iBAEA,KAAK,CAAC,IAAN,CAAW,aAAX,EAA0B,KAA1B;QAHwD,CAA1D;MADS,CAAX,EAKE,GALF;aAOA,IAAC,CAAA,MAAD,CAAQ,KAAR,EAhBF;;EADa;;EAsBf,MAAQ,CAAA,CAAA;;WACL,CAAA,KAAK,KAAA,CAAM,CAAE,KAAK,CAAC,GAAR,CAAX;MACE,CAAA,KAAK,aAAA,CAAc,UAAnB;QACE,CAAA,MAAM,MAAA,CAAO,CAAE,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,qBAAtB,EAA8C,KAAA,CAAM,CAAC;QAAE,KAAA,EAAO,MAAT;QAAiB,MAAA,EAAQ,MAAzB;QAAiC,UAAA,EAAY;MAA7C,CAAD,CAAjE;MADF,EAAA,IAAA;MADsB,CAIvB,CACK,QAAQ,CAAC,EAAT,KAAe,KAAlB,GACG,CAAA,QAAQ,KAAA,CAAM,CAAE,IAAC,CAAA,KAAK,CAAC,aAAT,EAAyB,OAAA,CAAQ,CAAE,IAAC,CAAA,MAAH,EAAY,YAAA,CAAa,CAAE,IAAC,CAAA,aAAH,EAAmB,WAAA,CAAY,CAAE,IAAC,CAAA,QAAH,CAAvG,GADH,GAGG,CAAA,YAAY,KAAA,CAAM,CAAE,IAAC,CAAA,KAAK,CAAC,aAAT,EAAyB,OAAA,CAAQ,CAAE,IAAC,CAAA,MAAH,EAAY,YAAA,CAAa,CAAE,IAAC,CAAA,aAAH,EAAmB,WAAA,CAAY,CAAE,IAAC,CAAA,QAAH,CAA3G,GAJL,CAJuB;IAAxB,EAAA,IAAA;EADK;;AA9DC;;AA6EX,KAAA,GAAQ,UAAU,CAAC,MAAX,CACN;EAAA,GAAA,EACE;IAAA,KAAA,EAAO,MAAP;IACA,MAAA,EAAQ;EADR;AADF,CADM;;AAOR,OAAA,QAAe,MAAA,CAAO,cAAA,CAAe,QAAf,CAAP",
  "sourcesContent": [
    "import PlusIOS from './plus_ios'\nimport PlusAndroid from './plus_android'\n\n\n\nHomePlus = class extends PureComponent\n  constructor: (props) ->\n    super props\n    @state =\n      plus_expanded: no\n      camera_access: no\n      fs_access: no\n      picker_options:\n        mediaTypes: ImagePicker.MediaTypeOptions.All\n        allowsEditing: no\n        base64: no\n        exif: no\n\n\n\n  componentDidMount: =>\n    Permissions.getAsync(Permissions.CAMERA, Permissions.CAMERA_ROLL).then (res) =>\n      @setState\n        camera_access: res.permissions.camera.status is 'granted'\n        fs_access: res.permissions.cameraRoll.status is 'granted'\n\n\n\n\n  toggle: (expanded) =>\n    @setState\n      plus_expanded: expanded\n\n  addMedia: =>\n    if not @state.fs_access\n      Permissions.askAsync(Permissions.CAMERA_ROLL).then (res) =>\n        if res.status is 'granted'\n          @setState\n            fs_access: yes\n        else\n          Alert.alert 'Error', 'Nude requires access to your phone storage to add photos'\n    else\n      @props.navigation.navigate 'ImageSelector'\n      @toggle no\n\n  addFromCamera: =>\n    if not @state.camera_access\n      Permissions.getAsync(Permissions.CAMERA).then (res) =>\n        if res.status is 'granted'\n          @setState\n            camera_access: yes\n        else\n          Alert.alert 'Error', 'Nude requires access to your camera to take pictures'\n    else\n      Ambry.call 'setLockLock', yes\n      setTimeout =>\n        ImagePicker.launchCameraAsync(@state.picker_options).then (res) =>\n          if res.cancelled isnt yes\n            API.global.addMedia { import: no }, [res]\n          Ambry.call 'setLockLock', no\n      , 200\n\n      @toggle no\n\n\n\n\n  render: =>\n    <View style={ Shape.Box }>\n      <View pointerEvents='box-none'>\n        <Image source={ Assets.img.pictures.white_bottom_gradient } style={{ width: '100%', height: '100%', resizeMode: 'stretch' }}/>\n      </View>\n      {\n        if Platform.OS is 'ios'\n          <PlusIOS state={ @state.plus_expanded } onPress={ @toggle } cameraAction={ @addFromCamera } mediaAction={ @addMedia }/>\n        else\n          <PlusAndroid state={ @state.plus_expanded } onPress={ @toggle } cameraAction={ @addFromCamera } mediaAction={ @addMedia }/>\n      }\n    </View>\n\n\n\nShape = StyleSheet.create\n  Box:\n    width: '100%'\n    height: '100%'\n\n\n\nexport default Hybrid withNavigation HomePlus\n"
  ]
}