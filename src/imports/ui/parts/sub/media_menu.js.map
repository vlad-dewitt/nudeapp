{
  "version": 3,
  "file": "media_menu.js",
  "sourceRoot": "../../../../..",
  "sources": [
    "coffee/imports/ui/parts/sub/media_menu.coffee"
  ],
  "names": [],
  "mappings": ";AAAA,IAAA,SAAA,EAAA,KAAA,EAAA,MAAA;EAAA;;AAAA,SAAA,YAAY,MAAA,QAAc,UAAd;EACV,WAAa,CAAC,KAAD,CAAA;;QAUb,CAAA,wBAAA,CAAA;QAGA,CAAA,yBAAA,CAAA;QAMA,CAAA,WAAA,CAAA;QAkBA,CAAA,aAAA,CAAA;QAmBA,CAAA,aAAA,CAAA;QAgBA,CAAA,YAAA,CAAA;QAIA,CAAA,aAAA,CAAA;QAQA,CAAA,aAAA,CAAA;IAlFE,IAAC,CAAA,KAAD,GACE;MAAA,MAAA,EACE;QAAA,MAAA,EAAQ,KAAR;QACA,MAAA,EAAQ,KADR;QAEA,KAAA,EAAO;MAFP;IADF;EAHS;;EAUb,iBAAmB,CAAA,CAAA;;WACjB,IAAC,CAAA,IAAD,CAAA;EADiB;;EAGnB,kBAAoB,CAAC,SAAD,EAAY,SAAZ,CAAA;;IAClB,IAAG,SAAS,CAAC,GAAG,CAAC,WAAd,KAA+B,IAAC,CAAA,KAAK,CAAC,GAAG,CAAC,WAA7C;aACE,IAAC,CAAA,IAAD,CAAA,EADF;;EADkB;;EAMpB,IAAM,CAAA,CAAA;AACJ,QAAA;;IAAA,MAAA,GAAS,IAAC,CAAA,KAAK,CAAC;IAEhB,IAAG,IAAC,CAAA,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAxC,GAAiD,CAApD;MACE,MAAM,CAAC,MAAP,GAAgB;MAChB,MAAM,CAAC,MAAP,GAAgB,KAFlB;KAAA,MAAA;MAIE,MAAM,CAAC,MAAP,GAAgB;MAChB,MAAM,CAAC,MAAP,GAAgB,MALlB;;IAOA,IAAG,IAAC,CAAA,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAxC,KAAkD,CAArD;MACE,MAAM,CAAC,KAAP,GAAe,KADjB;KAAA,MAAA;MAGE,MAAM,CAAC,KAAP,GAAe,MAHjB;;WAKA,IAAC,CAAA,QAAD,CACE;MAAA,MAAA,EAAQ;IAAR,CADF;EAfI;;EAkBN,MAAQ,CAAA,CAAA;AACN,QAAA,WAAA,EAAA,OAAA,EAAA;;IAAA,OAAA,GAAU,IAAC,CAAA,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC;IAEjC,OAAA,GAAa,OAAO,CAAC,MAAR,GAAiB,CAApB,GAA2B,6BAA3B,GAA8D,CAAA,gBAAA,CAAA,CAAoB,OAAO,CAAC,MAA5B,CAAoC,mCAApC;IACxE,WAAA,GAAiB,OAAO,CAAC,MAAR,GAAiB,CAApB,GAA2B,QAA3B,GAAyC;WAEvD,KAAK,CAAC,KAAN,CAAY,eAAZ,EAA6B,OAA7B,EACE;MACE;QACE,IAAA,EAAM,QADR;QAEE,KAAA,EAAO;MAFT,CADF;MAKE;QACE,IAAA,EAAM,WADR;QAEE,OAAA,EAAS,CAAA,CAAA,GAAA;iBACP,GAAG,CAAC,MAAM,CAAC,WAAX,CAAuB,OAAvB;MAAgC,CAAA,CAAA,GAAA;mBAAG,IAAC,CAAA,MAAD,CAAA;UAAH,CAAhC;QADO;MAFX,CALF;KADF;EANM;;EAmBR,MAAQ,CAAA,CAAA;AACN,QAAA;;IAAA,OAAA,GAAU,IAAC,CAAA,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC;WAEjC,KAAK,CAAC,KAAN,CAAY,CAAA,OAAA,CAAA,CAAW,OAAO,CAAC,MAAnB,CAA2B,gBAA3B,CAAZ,EAA0D,EAA1D,EACE;MACE;QACE,IAAA,EAAM,IADR;QAEE,KAAA,EAAO;MAFT,CADF;MAKE;QACE,IAAA,EAAM,KADR;QAEE,OAAA,EAAS,CAAA,CAAA,GAAA;iBACP,GAAG,CAAC,MAAM,CAAC,WAAX,CAAuB,OAAvB;MAAgC,CAAA,CAAA,GAAA;mBAAG,IAAC,CAAA,MAAD,CAAA;UAAH,CAAhC;QADO;MAFX,CALF;KADF;EAHM;;EAgBR,KAAO,CAAA,CAAA;;WACL,OAAO,CAAC,UAAR,CAAmB,IAAC,CAAA,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,gBAAiB,CAAA,CAAA,CAAE,CAAC,IAA9D,CACA,CAAC,IADD,CACM,CAAA,CAAA,GAAA;aAAG,IAAC,CAAA,MAAD,CAAA;IAAH,CADN;EADK;;EAIP,MAAQ,CAAA,CAAA;;WACN,KAAK,CAAC,IAAN,CAAW,eAAX,EACE;MAAA,SAAA,EAAW,IAAX;MACA,MAAA,EAAQ,KADR;MAEA,gBAAA,EAAkB;IAFlB,CADF;EADM;;EAQR,MAAQ,CAAA,CAAA;;WACL,CAAA,KAAK,KAAA,CAAM,CAAE,KAAK,CAAC,IAAR,CAAX;MACE,CAAA,KAAK,KAAA,CAAM,CAAC;QAAE,OAAA,EAAY,IAAC,CAAA,KAAK,CAAC,MAAM,CAAC,MAAjB,GAA6B,CAA7B,GAAoC;MAA/C,CAAD,CAAX;QACE,CAAA,iBAAiB,KAAA,CAAM,CAAE,KAAK,CAAC,QAAR,EAAmB,aAAA,CAAc,CAAE,EAAF,EAAO,OAAA,CAAQ,CAAK,IAAC,CAAA,KAAK,CAAC,MAAM,CAAC,MAAjB,GAA6B,IAAC,CAAA,MAA9B,GAAA,MAAF,CAAvE;UACE,CAAA,MAAM,MAAA,CAAO,CAAE,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAnB,EAA4C,KAAA,CAAM,CAAC;QAAE,KAAA,EAAO,EAAT;QAAa,MAAA,EAAQ,EAArB;QAAyB,UAAA,EAAY,SAArC;QAAgD,YAAA,EAAc;MAA9D,CAAD,CAA/D;UACA,CAAA,KAAK,KAAA,CAAM,CAAC,CAAC,UAAU,CAAC,KAAZ,EAAmB,UAAU,CAAC,MAA9B,EAAsC,UAAU,CAAC,QAAjD,CAAD,CAAX,CAAuE,MAAvE,EAAA,IAAA;QAFF,EAAA,gBAAA;MADF,EAAA,IAAA;MAMA,CAAA,KAAK,KAAA,CAAM,CAAC;QAAE,OAAA,EAAY,IAAC,CAAA,KAAK,CAAC,MAAM,CAAC,MAAjB,GAA6B,CAA7B,GAAoC;MAA/C,CAAD,CAAX;QACE,CAAA,iBAAiB,KAAA,CAAM,CAAE,KAAK,CAAC,QAAR,EAAmB,aAAA,CAAc,CAAE,EAAF,EAAO,OAAA,CAAQ,CAAK,IAAC,CAAA,KAAK,CAAC,MAAM,CAAC,MAAjB,GAA6B,IAAC,CAAA,MAA9B,GAAA,MAAF,CAAvE;UACE,CAAA,MAAM,MAAA,CAAO,CAAE,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,uBAAnB,EAA6C,KAAA,CAAM,CAAC;QAAE,KAAA,EAAO,EAAT;QAAa,MAAA,EAAQ,EAArB;QAAyB,UAAA,EAAY,SAArC;QAAgD,YAAA,EAAc;MAA9D,CAAD,CAAhE;UACA,CAAA,KAAK,KAAA,CAAM,CAAC,CAAC,UAAU,CAAC,KAAZ,EAAmB,UAAU,CAAC,MAA9B,EAAsC,UAAU,CAAC,QAAjD,CAAD,CAAX,CAAuE,MAAvE,EAAA,IAAA;QAFF,EAAA,gBAAA;MADF,EAAA,IAAA;MAMA,CAAA,KAAK,KAAA,CAAM,CAAC;QAAE,OAAA,EAAY,IAAC,CAAA,KAAK,CAAC,MAAM,CAAC,KAAjB,GAA4B,CAA5B,GAAmC;MAA9C,CAAD,CAAX;QACE,CAAA,iBAAiB,KAAA,CAAM,CAAE,KAAK,CAAC,QAAR,EAAmB,aAAA,CAAc,CAAE,EAAF,EAAO,OAAA,CAAQ,CAAK,IAAC,CAAA,KAAK,CAAC,MAAM,CAAC,KAAjB,GAA4B,IAAC,CAAA,KAA7B,GAAA,MAAF,CAAvE;UACE,CAAA,MAAM,MAAA,CAAO,CAAE,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,sBAAnB,EAA4C,KAAA,CAAM,CAAC;QAAE,KAAA,EAAO,EAAT;QAAa,MAAA,EAAQ,EAArB;QAAyB,UAAA,EAAY,SAArC;QAAgD,YAAA,EAAc;MAA9D,CAAD,CAA/D;UACA,CAAA,KAAK,KAAA,CAAM,CAAC,CAAC,UAAU,CAAC,KAAZ,EAAmB,UAAU,CAAC,MAA9B,EAAsC,UAAU,CAAC,QAAjD,CAAD,CAAX,CAAuE,KAAvE,EAAA,IAAA;QAFF,EAAA,gBAAA;MADF,EAAA,IAAA;IAbF,EAAA,IAAA;EADK;;AArFE;;AA6GZ,KAAA,GAAQ,UAAU,CAAC,MAAX,CACN;EAAA,IAAA,EACE;IAAA,KAAA,EAAO,MAAP;IACA,MAAA,EAAQ,EADR;IAEA,MAAA,EAAQ,CAFR;IAGA,iBAAA,EAAmB,MAAM,CAAC,KAAP,GAAe,CAHlC;IAIA,iBAAA,EAAmB,EAJnB;IAKA,iBAAA,EAAmB,SALnB;IAMA,UAAA,EAAY,QANZ;IAOA,aAAA,EAAe,KAPf;IAQA,cAAA,EAAgB,eARhB;IASA,eAAA,EAAiB;EATjB,CADF;EAYA,QAAA,EACE;IAAA,UAAA,EAAY,QAAZ;IACA,cAAA,EAAgB;EADhB;AAbF,CADM;;AAmBR,OAAA,QAAe,MAAA,CAAO,cAAA,CAAe,SAAf,CAAP",
  "sourcesContent": [
    "MediaMenu = class extends Component\n  constructor: (props) ->\n    super props\n    @state =\n      config:\n        delete: no\n        export: no\n        share: no\n\n\n\n  componentDidMount: =>\n    @init()\n\n  componentDidUpdate: (prevProps, prevState) =>\n    if prevProps.app.select_mode isnt @props.app.select_mode\n      @init()\n\n\n\n  init: =>\n    config = @state.config\n\n    if @props.app.select_mode.selected_objects.length > 0\n      config.delete = yes\n      config.export = yes\n    else\n      config.delete = no\n      config.export = no\n\n    if @props.app.select_mode.selected_objects.length is 1\n      config.share = yes\n    else\n      config.share = no\n\n    @setState\n      config: config\n\n  delete: =>\n    objects = @props.app.select_mode.selected_objects\n\n    message = if objects.length < 2 then \"This action can't be undone\" else \"You're deleting #{ objects.length } files. This action can't be undone\"\n    button_text = if objects.length < 2 then 'Delete' else 'Delete All'\n\n    Alert.alert 'Are you sure?', message,\n      [\n        {\n          text: 'Cancel'\n          style: 'cancel'\n        }\n        {\n          text: button_text\n          onPress: =>\n            API.global.removeMedia objects, => @cancel()\n        }\n      ]\n\n  export: =>\n    objects = @props.app.select_mode.selected_objects\n\n    Alert.alert \"Export #{ objects.length } selected files?\", '',\n      [\n        {\n          text: 'No'\n          style: 'cancel'\n        }\n        {\n          text: 'Yes'\n          onPress: =>\n            API.global.exportMedia objects, => @cancel()\n        }\n      ]\n\n  share: =>\n    Sharing.shareAsync @props.app.select_mode.selected_objects[0].path\n    .then => @cancel()\n\n  cancel: =>\n    Ambry.call 'setSelectMode',\n      available: yes\n      active: no\n      selected_objects: []\n\n\n\n  render: =>\n    <View style={ Shape.Menu }>\n      <View style={{ opacity: if @state.config.delete then 1 else .4 }}>\n        <TouchableOpacity style={ Shape.MenuIcon } activeOpacity={ .5 } onPress={ if @state.config.delete then @delete }>\n          <Image source={ Assets.img.icons.trash_linear_icon_grey } style={{ width: 18, height: 18, resizeMode: 'contain', marginBottom: 3 }}/>\n          <Text style={[Typography.Light, Typography.Little, Typography.DarkGrey]}>Delete</Text>\n        </TouchableOpacity>\n      </View>\n      <View style={{ opacity: if @state.config.export then 1 else .4 }}>\n        <TouchableOpacity style={ Shape.MenuIcon } activeOpacity={ .5 } onPress={ if @state.config.export then @export }>\n          <Image source={ Assets.img.icons.export_linear_icon_grey } style={{ width: 18, height: 18, resizeMode: 'contain', marginBottom: 3 }}/>\n          <Text style={[Typography.Light, Typography.Little, Typography.DarkGrey]}>Export</Text>\n        </TouchableOpacity>\n      </View>\n      <View style={{ opacity: if @state.config.share then 1 else .4 }}>\n        <TouchableOpacity style={ Shape.MenuIcon } activeOpacity={ .5 } onPress={ if @state.config.share then @share }>\n          <Image source={ Assets.img.icons.share_linear_icon_grey } style={{ width: 18, height: 18, resizeMode: 'contain', marginBottom: 3 }}/>\n          <Text style={[Typography.Light, Typography.Little, Typography.DarkGrey]}>Share</Text>\n        </TouchableOpacity>\n      </View>\n    </View>\n\n\n\nShape = StyleSheet.create\n  Menu:\n    width: '100%'\n    height: 52\n    zIndex: 2\n    paddingHorizontal: Window.width / 6\n    borderBottomWidth: .5\n    borderBottomColor: '#AAAAAA'\n    alignItems: 'center'\n    flexDirection: 'row'\n    justifyContent: 'space-between'\n    backgroundColor: 'white'\n\n  MenuIcon:\n    alignItems: 'center'\n    justifyContent: 'center'\n\n\n\nexport default Hybrid withNavigation MediaMenu\n"
  ]
}