{
  "version": 3,
  "file": "enter_email.js",
  "sourceRoot": "../../../..",
  "sources": [
    "coffee/imports/ui/parts/enter_email.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "import BGGradient from './sub/bg_gradient'\n\n\n\nEnterEmail = class extends PureComponent\n  constructor: (props) ->\n    super props\n    @state =\n      email: ''\n\n\n\n  typeEmail: (value) =>\n    @setState\n      email: value\n\n  submit: =>\n    email_address = @state.email.toLowerCase().replace /\\s/g, ''\n    email_test = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n    email_valid = email_test.test email_address\n    if email_valid\n      Ambry.call 'setEmailAddress', email_address\n      @skip()\n    else\n      Alert.alert 'Warning', 'Please enter a valid email address'\n\n  skip: =>\n    API.server.checkUser @state.email.toLowerCase().replace(/\\s/g, ''), (res) =>\n      if res.status is 'User Exists and email recognized' or res.status is 'User Exists and email not recognized'\n        Ambry.call 'setRestoreUserMode', yes\n        @finish()\n      else if res.status is 'User doesn\\'t exist and email recognized'\n        Alert.alert 'Error', 'This email addres is already in use. Please try another one'\n      else\n        @finish()\n\n  finish: =>\n    { status: FS_permission_status } = await Permissions.getAsync Permissions.CAMERA_ROLL\n    { status: Camera_permission_status } = await Permissions.getAsync Permissions.CAMERA\n    if FS_permission_status isnt 'granted'\n      @props.navigation.navigate 'AskAccessFS'\n    else if Camera_permission_status isnt 'granted'\n      @props.navigation.navigate 'AskAccessCamera'\n    else\n      API.global.checkConnection (connected) =>\n        if connected\n          await API.global.storeUser()\n          API.global.syncUserLocally (res) =>\n            @props.navigation.navigate 'Home'\n        else\n          Alert.alert 'Connection Error', 'Please check your internet connection'\n\n\n\n  render: =>\n    <BGGradient colors={['#EDA9A9', '#FFD8C0']}>\n      <View style={ Shape.Box }>\n        <Text style={[Typography.SemiBold, Typography.Big, Shape.Text]}>Your PIN is:</Text>\n        <Text style={[Typography.SemiBold, Shape.FullPin, Shape.Text]}>{ @props.app.user.full_pin }</Text>\n        <Text style={[Typography.Medium, Typography.Regular, Shape.Text]}>Please Enter Email Address</Text>\n        <TextInput style={[Typography.Medium, Typography.Regular, Shape.EmailInput]} onChangeText={ @typeEmail } value={ @state.email } placeholder='Email address...' placeholderTextColor='rgba(255,255,255,.5)' textContentType='emailAddress' autoCompleteType='email' keyboardType='email-address' underlineColorAndroid='transparent' autoCapitalize='none' blurOnSubmit={ yes } returnKeyType='done' onSubmitEditing={ @submit }/>\n        <Text style={[Typography.Medium, Typography.Small, Shape.Text]}>{ \"Your email address is used for passcode reset\\nand communication purposes\" }</Text>\n        <View style={ Shape.ButtonsContainer }>\n          <Theme.ButtonWhite style={{ width: Window.width - 80 }} text='FINISH' color='#F6C3B6' onPress={ @submit }/>\n          <Text style={[Typography.Small, Typography.White, Shape.Skip]} onPress={ @skip }>SKIP</Text>\n        </View>\n      </View>\n    </BGGradient>\n\n\n\nShape = StyleSheet.create\n  Box:\n    flex: 1\n    marginTop: 70\n\n  Text:\n    textAlign: 'center'\n\n  FullPin:\n    marginTop: 15\n    marginBottom: 40\n    fontSize: 40\n    lineHeight: 40\n    letterSpacing: 2\n    color: 'white'\n\n  EmailInput:\n    width: Window.width - 80\n    marginVertical: 30\n    marginHorizontal: 40\n    paddingVertical: 14\n    paddingHorizontal: 18\n    borderWidth: 1\n    borderColor: 'white'\n    borderRadius: 32\n    backgroundColor: 'rgba(255,255,255, .1)'\n    alignItems: 'center'\n    justifyContent: 'center'\n    color: 'white'\n\n  ButtonsContainer:\n    alignItems: 'center'\n    justifyContent: 'center'\n    marginTop: 60\n\n  Skip:\n    padding: 20\n\n\n\n\n\nexport default Hybrid EnterEmail\n"
  ]
}